/*! jquery-preload v0.8.1 | (c) 2014, falsandtru | MIT Licence */
!new function(window,document,undefined,$){"use strict";var MODULE;!function(a){a.NAME="preload",a.NAMESPACE=jQuery,function(a){a[a.wait=-1]="wait",a[a.ready=0]="ready",a[a.lock=1]="lock",a[a.seal=2]="seal"}(a.State||(a.State={}));a.State;a.GEN_UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16).toUpperCase()})}}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(a){var b,c,d=function(){function a(a,d){b=d,c=a}return a.prototype.enable=function(){return b.state_=0,this},a.prototype.disable=function(){return b.state_=1,this},a}();a.ControllerFunction=d}(b=a.CONTROLLER||(a.CONTROLLER={}))}(MODULE||(MODULE={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},MODULE;!function(a){var b;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.ControllerFunction);a.ControllerMethod=b}(b=a.CONTROLLER||(a.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(b){var c,d,e=function(){function e(e){this.state_=-1,this.HANDLERS={},c=e,d=this,this.UUID=a.GEN_UUID(),a.NAMESPACE[a.NAME]=a.NAMESPACE&&a.NAMESPACE==a.NAMESPACE.window?this.EXEC:a.NAMESPACE.prototype[a.NAME]=this.EXEC;var f=new b.ControllerFunction(d,c);this.REGISTER_FUNCTIONS(a.NAMESPACE[a.NAME],f),this.UPDATE_PROPERTIES(a.NAMESPACE[a.NAME],f),this.OBSERVE(),this.state_=0}return e.prototype.EXTEND=function(e){if(e===a.NAMESPACE||a.NAMESPACE&&a.NAMESPACE==a.NAMESPACE.window){var f=new b.ControllerFunction(d,c);e=a.NAMESPACE[a.NAME]}else var f=new b.ControllerMethod(d,c);return e instanceof a.NAMESPACE&&(e instanceof jQuery&&(e=e.add()),this.REGISTER_FUNCTIONS(e,f)),this.UPDATE_PROPERTIES(e,f),e},e.prototype.EXEC=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var e=d.EXTEND(this);return a=[e].concat(a),a=d.exec_.apply(d,a),a=a instanceof Array?a:[a],c.MAIN.apply(c,a)},e.prototype.exec_=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return[a].concat(b)},e.prototype.REGISTER_FUNCTIONS=function(a,c){{var d;b.Template.PROPERTIES}for(d in c)a[d]=c[d];return a},e.prototype.UPDATE_PROPERTIES=function(a,c){var d,e,f,g=b.Template.PROPERTIES;for(d=0,e=g.length;e>d;d++)f=g[d],c[f]&&(a[f]=c[f].call(a));return a},e.prototype.OBSERVE=function(){},e.prototype.RELEASE=function(){},e.EVENTS={},e.FUNCTIONS={},e.METHODS={},e.PROPERTIES=[],e.TRIGGERS={},e}();b.Template=e}(b=a.CONTROLLER||(a.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(a){var b=function(a){function b(b){a.call(this,b),this.model_=b,this.HANDLERS={}}return __extends(b,a),b.prototype.PRELOAD=function(a){this.model_.PRELOAD(a)},b.prototype.CLICK=function(a){this.model_.CLICK(a)},b.prototype.MOUSEMOVE=function(a){this.model_.MOUSEMOVE(a)},b.prototype.MOUSEOVER=function(a){this.model_.MOUSEOVER(a)},b.prototype.MOUSEOUT=function(a){this.model_.MOUSEOUT(a)},b.prototype.OBSERVE=function(){},b.EVENTS={},b.PROPERTIES=[],b.TRIGGERS={},b}(a.Template);a.Main=b}(b=a.CONTROLLER||(a.CONTROLLER={}))}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(b){var c=function(){function b(){this.NAME=a.NAME,this.NAMESPACE=a.NAMESPACE,this.state_=-1,this.stock=function c(d,e,f){if(this instanceof c||this.constructor.toString()===c.toString())switch(typeof d){case"object":case"function":return this.uuid=a.GEN_UUID(),c[this.uuid]=this,jQuery.extend.apply(jQuery,[!0,this].concat([].slice.call(arguments)).concat({uuid:this.uuid}));case"string":return delete c[d]}else if("object"==typeof d){var g,h=d;for(g in h)b.store(g,h[g])}else switch(arguments.length){case 0:return new this.stock;case 1:return c[d]||b.store(d);case 2:return b.store(d,e);case 3:return b.store(d,e,f)}},this.UUID=a.GEN_UUID()}return b.prototype.MAIN=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.main_.apply(this,[a].concat(b))},b.prototype.main_=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.state_=0,a},b.store=function(a,c){switch(arguments.length){case 0:break;case 1:return b.store[a];case 2:return b.store[a]=c;case 3:return b.store[a]=jQuery.extend(!0,b.store[a],c)}},b}();b.Template=c}(b=a.MODEL||(a.MODEL={}))}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(a){var b=function(){function a(){}return a.trim=function(a){if(a="string"==typeof a?a:String(0===a&&a.toString()||""),a.trim)a=a.trim();else if(a=a.replace(/^[\s\uFEFF\xA0]+/,"")){var b=/[\s\uFEFF\xA0]/,c=a.length,d=c%8;a:{for(;d--;)if(!b.test(a.charAt(--c)))break a;for(;c;){if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a;if(!b.test(a.charAt(--c)))break a}}a=a.substring(0,c+1)}return a},a.repeat=function(a,b){switch(a instanceof Array&&"array"||typeof a){case"string":var c=a;return Array(b+1).join(c);case"array":var d=a.length;if(300>b){var e=Array(b);this.duff(-b,function(b){return e[b]=a[b%d]})}else{for(var e=a.slice();2*e.length<=b;)e=e.concat(e);e=e.concat(e.slice(0,b-e.length))}return e}},a.fire=function(a,b,c,d){return void 0===b&&(b=window),void 0===c&&(c=[]),"function"==typeof a?d?setTimeout(function(){a.apply(b||window,c)},0):a.apply(b||window,c):a},a.duff=function(a,b){if(0>a){for(var c=-a,d=c%8;d--;)b(--c);for(;c;)b(--c),b(--c),b(--c),b(--c),b(--c),b(--c),b(--c),b(--c)}else{for(var e=a,c=0,d=e%8,f=e/8^0;d--;)b(c++);for(;f--;)b(c++),b(c++),b(c++),b(c++),b(c++),b(c++),b(c++),b(c++)}},a.duffEx=function(a,b){if(0>a){var c=-a,d=c%8;a:{for(;d--;)if(!1===b(--c))break a;for(;c;){if(!1===b(--c))break a;if(!1===b(--c))break a;if(!1===b(--c))break a;if(!1===b(--c))break a;if(!1===b(--c))break a;if(!1===b(--c))break a;if(!1===b(--c))break a;if(!1===b(--c))break a}}}else{var e=a,c=0,d=e%8,f=e/8^0;a:{for(;d--;)if(!1===b(c++))break a;for(;f--;){if(!1===b(c++))break a;if(!1===b(c++))break a;if(!1===b(c++))break a;if(!1===b(c++))break a;if(!1===b(c++))break a;if(!1===b(c++))break a;if(!1===b(c++))break a;if(!1===b(c++))break a}}}},a.normalizeUrl=function(a,b){void 0===b&&(b=!0);var c;return c=this.trim(a),c=/^([^:/?#]+):\/\/[^/?#.]+\.[^/?#]+/i.test(c)?c:function(a,b){return b.href=a,b.href}(c,document.createElement("a")),c=encodeURI(decodeURI(c)),c=c.replace(/["`^|\\<>{}\[\]\s].*/,""),c=b?this.justifyPercentEncodingUrlCase_(a,c):c},a.canonicalizeUrl=function(a){function b(a){return a.toUpperCase()}var c=this.normalizeUrl(a,!1);return c=c.replace(/(?:%\w{2})+/g,b)},a.compareUrl=function(a,b,c){return c&&(a=this.canonicalizeUrl(a),b=this.canonicalizeUrl(b)),a===this.justifyPercentEncodingUrlCase_(a,b)},a.justifyPercentEncodingUrlCase_=function(a,b){function c(b){var c=~a.indexOf(b.toUpperCase())||~a.indexOf(b.toLowerCase());return c?a.substr(~c,b.length):b}return a===b?b:b.replace(/(?:%\w{2})+/g,c)},a}();a.Utility=b}(b=a.LIBRARY||(a.LIBRARY={}))}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(b){var c,d=function(){function b(b,d,e){for(var f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];this.model_=b,this.controller_=d,this.state_=-1,this.queue_=[],this.HANDLERS={},c=d,this.UUID=a.GEN_UUID(),this.CONTEXT=e,this.OBSERVE.apply(this,f||[]),this.state_=0}return b.prototype.OBSERVE=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b]},b.prototype.RELEASE=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b]},b.prototype.BIND=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this.UNBIND(),this},b.prototype.UNBIND=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return this},b.EVENTS={},b.TRIGGERS={},b}();b.Template=d}(b=a.VIEW||(a.VIEW={}))}(MODULE||(MODULE={}));var MODULE;!function(a){var b;!function(b){var c,d=function(b){function d(a,d,e,f){b.call(this,a,d,e,f),this.model_=a,this.controller_=d,c=d}return __extends(d,b),d.prototype.OBSERVE=function(a){var b=this.model_.stock(a);return this.CONTEXT.bind(b.nss.event,a,this.PRELOAD),this},d.prototype.RELEASE=function(a){var b=this.model_.stock(a);return this.CONTEXT.unbind(b.nss.event),this},d.prototype.BIND=function(a,b){var c=this.model_.stock(a);return this.UNBIND(a,b),b&&this.CONTEXT.find(b.currentTarget).add(this.CONTEXT.filter(b.currentTarget)).find(c.link).filter(c.filter).bind(c.nss.click,a,this.CLICK).bind(c.nss.mouseover,a,this.MOUSEOVER).bind(c.nss.mousemove,a,this.MOUSEMOVE).bind(c.nss.mouseout,a,this.MOUSEOUT),this},d.prototype.UNBIND=function(a,b){var c=this.model_.stock(a);return b&&this.CONTEXT.find(b.currentTarget).add(this.CONTEXT.filter(b.currentTarget)).find(c.link).filter(c.filter).unbind(c.nss.click).unbind(c.nss.mouseover).unbind(c.nss.mousemove).unbind(c.nss.mouseout),this},d.prototype.RESET=function(a){return this.CONTEXT.trigger(a.nss.event),this},d.prototype.PRELOAD=function(a){c.PRELOAD(a)},d.prototype.CLICK=function(a){c.CLICK(a)},d.prototype.MOUSEMOVE=function(a){c.MOUSEMOVE(a)},d.prototype.MOUSEOVER=function(a){c.MOUSEOVER(a)},d.prototype.MOUSEOUT=function(a){c.MOUSEOUT(a)},d.EVENTS={BIND:a.NAME},d.TRIGGERS={},d}(b.Template);b.Main=d}(b=a.VIEW||(a.VIEW={}))}(MODULE||(MODULE={}));var MODULE;!function(MODULE){var MODEL;!function(MODEL){var Util=MODULE.LIBRARY.Utility,Main=function(_super){function Main(){_super.apply(this,arguments),this.controller_=new MODULE.CONTROLLER.Main(this),this.loaded_={}}return __extends(Main,_super),Main.prototype.main_=function(a,b){var c,d=this;switch(c=a instanceof MODULE.NAMESPACE?"m:":"f:",c+=b?{}.toString.call(b).split(" ").pop().slice(0,-1).toLowerCase():b,c.toLowerCase()){case"f:number":case"f:0":case"f:string":b={link:b};case"f:":case"m:object":case"m:null":case"m:function":case"m:undefined":}a=a instanceof jQuery?a:jQuery(document);var e=new this.stock(this.configure(b));this.stock({setting:e,queue:[]});var f=e.encode?Util.normalizeUrl(window.location.href):window.location.href;return f=f.replace(/#.*/,""),this.loaded_[f]=!0,a.uuid=e.uuid,jQuery(function(){e.view.push(new MODULE.VIEW.Main(d,d.controller_,a,e.uuid)),e.view[0].CONTEXT.trigger(e.nss.event),d.state_=~d.state_?d.state_:0}),this.cooldown(e),a},Main.prototype.configure=function(a){var b=jQuery.extend(!0,{},a),c={gns:MODULE.NAME,ns:null,link:"a:not([target])",filter:function(){return/^https?:/.test(this.href)&&/(\/[^.]*|\.html?|\.php)$/.test("/"+this.pathname)},lock:1e3,forward:null,check:null,balance:{host:null,ajax:{crossDomain:!0,beforeSend:null}},interval:1e3,limit:2,cooldown:1e4,skip:50,query:"",encode:!1,ajax:{dataType:"text",async:!0,timeout:1500}},d={view:[],target:null,volume:0,points:[],touch:!1,xhr:null,timeStamp:0,option:a},e=function(){var a=[b.gns||MODULE.NAME].concat(b.ns&&String(b.ns).split(".")||[]);return{nss:{name:b.ns||"",array:a,event:a.join("."),data:a.join("-"),class4html:a.join("-"),click:["click"].concat(a.join(":")).join("."),mousemove:["mousemove"].concat(a.join(":")).join("."),mouseover:["mouseover"].concat(a.join(":")).join("."),mouseout:["mouseout"].concat(a.join(":")).join("."),touchstart:["touchstart"].concat(a.join(":")).join("."),touchmove:["touchmove"].concat(a.join(":")).join("."),touchend:["touchend"].concat(a.join(":")).join(".")},ajax:jQuery.extend(!0,{},jQuery.ajaxSettings,b.ajax)}};return b=jQuery.extend(!0,{},c,b,d),b=jQuery.extend(!0,{},b,e())},Main.prototype.cooldown=function(a){!function(a,b){setTimeout(function c(){b.volume-=Number(!!b.volume),setTimeout(c,a)},a,b)}(a.cooldown,a)},Main.prototype.PRELOAD=function(a){var b=this.stock(a.data);b.volume=0,b.timeStamp=0,b.view[0].BIND(a.data,a)},Main.prototype.CLICK=function(a){var b=this.stock(a.data),c=a.currentTarget;if(0===this.state_)switch(a.timeStamp=(new Date).getTime(),b.encode&&("href"in c?c.href=this.getURL_(b,c):c.src=this.getURL_(b,c)),!a.isDefaultPrevented()&&jQuery.data(a.currentTarget,b.nss.data)){case"preload":case"lock":if(b.forward){var d=(this.getURL_(b,a.currentTarget),b.xhr.host);delete b.xhr.host,!1===Util.fire(b.forward,null,[a,b.xhr,d,b.timeStamp])?"lock"===jQuery.data(a.currentTarget,b.nss.data)?a.preventDefault():(this.click_(b,a),jQuery.removeData(a.currentTarget,b.nss.data)):(b.xhr=null,a.preventDefault(),jQuery.removeData(a.currentTarget,b.nss.data))}else"lock"===jQuery.data(a.currentTarget,b.nss.data)?a.preventDefault():(this.click_(b,a),jQuery.removeData(a.currentTarget,b.nss.data));break;default:b.xhr&&b.xhr.readyState<4&&b.xhr.abort()}},Main.prototype.MOUSEMOVE=function(a){var b=this.stock(a.data);0===this.state_&&(a.timeStamp=(new Date).getTime(),(!b.points.length||30<a.timeStamp-b.points[0].timeStamp)&&(b.points.unshift(a),b.points=b.points.slice(0,3),b.points.length>=3&&this.check_(a,b)))},Main.prototype.MOUSEOVER=function(a){var b=this.stock(a.data);b.target=a.currentTarget},Main.prototype.MOUSEOUT=function(a){var b=this.stock(a.data);b.target=null},Main.prototype.speed=function(a){if(a.length<3)return!1;var b,c,d,e;c=a[0].timeStamp-a[1].timeStamp,b=parseInt(String(Math.pow(a[0].pageX-a[1].pageX,2)+Math.pow(a[0].pageY-a[1].pageY,2)/(c||1)),10),e=a[1].timeStamp-a[2].timeStamp,d=parseInt(String(Math.pow(a[1].pageX-a[2].pageX,2)+Math.pow(a[1].pageY-a[2].pageY,2)/(e||1)),10);var f=1e3>c&&1e3>e?[b-d,b]:[];switch(!0){case!f.length:break;case-50>f[0]&&200>f[1]:case-50<f[0]&&50>f[0]&&-50<f[1]&&50>f[1]:return!0}return!1},Main.prototype.check_=function(a,b){var c=this;switch(!0){case b.volume>=b.limit:case b.points.length<3:case b.points[2].pageX===a.pageX:case b.interval?(new Date).getTime()-b.timeStamp<b.interval:!1:return;default:var d=function(){var d=c.getURL_(b,a.currentTarget);switch(d=d.replace(/#.*/,""),!0){case b.target!==a.currentTarget:case b.check?!!Util.fire(b.check,a.currentTarget,[d]):c.loaded_[d]:case!b.ajax.crossDomain&&(b.target.protocol!==window.location.protocol||b.target.host!==window.location.host):return}c.drive_(a,b)};this.speed(b.points)&&d()}},Main.prototype.drive_=function(a,b){var c=this;b.xhr&&b.xhr.readyState<4&&b.xhr.abort(),this.loaded_[this.getURL_(b,a.currentTarget).replace(/#.*/,"")]=!0,++b.volume,b.timeStamp=a.timeStamp,jQuery.data(a.currentTarget,b.nss.data,"preload"),b.lock&&(jQuery.data(a.currentTarget,b.nss.data,"lock"),jQuery(a.currentTarget).one(b.nss.click,function(a){if(jQuery.data(a.currentTarget,b.nss.data)){var d=Math.max(b.lock-(new Date).getTime()+a.data,0);jQuery.data(a.currentTarget,b.nss.data,"click"),d&&(setTimeout(function(){"click"===jQuery.data(a.currentTarget,b.nss.data)&&c.click_(b,a),jQuery.removeData(a.currentTarget,b.nss.data)},d),a.preventDefault())}})),this.preload_(a)},Main.prototype.preload_=function(event){var setting=this.stock(event.data),host=setting.balance.host&&setting.balance.host(),that=this,ajax=jQuery.extend(!0,{},setting.ajax,{beforeSend:function(a,b){a.setRequestHeader("X-Preload","true"),Util.fire(setting.ajax.beforeSend,this,[a,b])},success:function(){time=(new Date).getTime()-time,Util.fire(setting.ajax.success,this,arguments),that.loaded_[url]=!0,(304===arguments[2].status||time<=setting.skip)&&(setting.volume-=Number(!!setting.volume),setting.timeStamp=0),"click"===jQuery.data(event.currentTarget,setting.nss.data)&&that.click_(setting,event),jQuery.removeData(event.currentTarget,setting.nss.data)},error:function(){Util.fire(setting.ajax.error,this,arguments),setting.volume-=Number(!!setting.volume),setting.timeStamp=0,jQuery.removeData(event.currentTarget,setting.nss.data)},complete:function(){Util.fire(setting.ajax.complete,this,arguments)}},host&&setting.balance.ajax),query=setting.query;switch(query&&typeof query){case"string":query=eval("({"+query.match(/[^?=&]+=[^&]*/g).join("&").replace(/"/g,'\\"').replace(/([^?=&]+)=([^&]*)/g,'"$1": "$2"').replace(/&/g,",")+"})");case"object":query=jQuery.param(query);break;default:query=""}var url=this.getURL_(setting,event.currentTarget);url=host?url.replace("//[^/]+","//"+host):url,url=query?url.replace(/([^\?#]+)\??([^#]*)?(#.+)?/,"$1$2&"+query+"$3").replace(/\?&/,"?"):url,ajax.url=url;var time=(new Date).getTime();setting.xhr=jQuery.ajax(ajax),setting.xhr.host=host},Main.prototype.click_=function(a,b){var c=this,d=b.currentTarget;a.xhr&&a.xhr.readyState<4&&a.xhr.abort(),jQuery(b.currentTarget).removeData(a.nss.data),jQuery(document).find(b.currentTarget).length&&(jQuery(document).unbind(a.nss.click).one(a.nss.click,function(b){b.isDefaultPrevented()||(window.location.href=a.encode?Util.normalizeUrl(d.href):d.href,a.encode&&(window.location.href=c.getURL_(a,b.currentTarget)))}),jQuery(b.currentTarget).click()),b.preventDefault()},Main.prototype.getURL_=function(a,b){var c;switch(b.tagName.toLowerCase()){case"a":case"link":c=b.href;break;case"script":case"img":case"iframe":c=b.src}return a.encode?Util.normalizeUrl(c):c},Main}(MODEL.Template);MODEL.Main=Main}(MODEL=MODULE.MODEL||(MODULE.MODEL={}))}(MODULE||(MODULE={})),new MODULE.MODEL.Main}(window,window.document,void 0,jQuery);